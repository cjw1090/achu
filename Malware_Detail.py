# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'LinkFile.ui'
#
# Created by: PyQt5 UI code generator 5.15.1
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.

import Malware_function
from tkinter import Tk
from tkinter import messagebox as msg
from PyQt5 import QtCore, QtGui, QtWidgets
import test

class Ui_Dialog(object):
    def setupUi(self, tab,tapname_list):
        font = QtGui.QFont()
        font.setFamily("돋움")
        font.setBold(False)
        font.setWeight(50)
        font.setPointSize(9)

        font1 = QtGui.QFont()
        font1.setFamily("Agency FB")
        font1.setPointSize(10)
        font1.setBold(True)
        font1.setWeight(75)

        self.gridLayout_5 = QtWidgets.QGridLayout(tab)
        self.gridLayout_5.setObjectName("gridLayout_5")
        self.frame = QtWidgets.QFrame(tab)
        self.frame.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame.setObjectName("frame")
        self.gridLayout_7 = QtWidgets.QGridLayout(self.frame)
        self.gridLayout_7.setObjectName("gridLayout_7")
        self.Search_Edit = QtWidgets.QLineEdit(self.frame)
        self.Search_Edit.setObjectName("Search_Edit")
        self.gridLayout_7.addWidget(self.Search_Edit, 0, 0, 1, 1)
        self.Sbtn = QtWidgets.QPushButton(self.frame)
        self.Sbtn.setObjectName("Sbtn")
        self.gridLayout_7.addWidget(self.Sbtn, 0, 1, 1, 1)
        self.Malware_Detail = QtWidgets.QTableWidget(self.frame)
        self.Malware_Detail.setObjectName("Malware_Detail")
        self.Malware_Detail.setColumnCount(3)
        self.Malware_Detail.setRowCount(0)
        self.gridLayout_7.addWidget(self.Malware_Detail, 1, 0, 1, 2)
        self.gridLayout_5.addWidget(self.frame, 0, 0, 1, 1)
        self.Malware_Detail.setSortingEnabled(True)
        self.Malware_Detail.setEditTriggers(QtWidgets.QTableWidget.NoEditTriggers)  # Options : Not Edit
        self.Malware_Detail.setSelectionBehavior(QtWidgets.QTableWidget.SelectRows)  # Select Rows

        item = QtWidgets.QTableWidgetItem()
        item.setTextAlignment(QtCore.Qt.AlignLeading | QtCore.Qt.AlignTop)
        item.setFont(font)
        self.Malware_Detail.setHorizontalHeaderItem(0, item)

        item = QtWidgets.QTableWidgetItem()
        item.setTextAlignment(QtCore.Qt.AlignLeading | QtCore.Qt.AlignTop)
        item.setFont(font)
        self.Malware_Detail.setHorizontalHeaderItem(1, item)

        item = QtWidgets.QTableWidgetItem()
        item.setTextAlignment(QtCore.Qt.AlignLeading | QtCore.Qt.AlignTop)
        item.setFont(font)
        self.Malware_Detail.setHorizontalHeaderItem(2, item)

        self.Malware_Detail.setHorizontalHeaderLabels(["File Name", "File Path", "Check"])
        tapname_list.append(self.Malware_Detail.objectName())
        self.Sbtn.setText("Search")
        header = self.Malware_Detail.horizontalHeader()
        header.setSectionResizeMode(0, QtWidgets.QHeaderView.Stretch)
        for i in range(1, self.Malware_Detail.columnCount() - 1):
            header.setSectionResizeMode(i, QtWidgets.QHeaderView.ResizeToContents)

        self.Sbtn.clicked.connect(lambda: test.Ui_Dialog.Sbtn_Event(self, self.Search_Edit.text()))

    def update(self):
        self.Malware_Detail.update()

    def Malware_AddData(self, result, tresult):
        self.Malware_Detail.setRowCount(len(result))
        self.Malware_Detail.update()
        for i in range(0, len(result)):
            self.Malware_Detail.setItem(i, 0, QtWidgets.QTableWidgetItem(result[i][0]))
            self.Malware_Detail.setItem(i, 1, QtWidgets.QTableWidgetItem(result[i][1]))
            self.Malware_Detail.setItem(i, 2, QtWidgets.QTableWidgetItem(tresult[i]))

if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    Dialog = QtWidgets.QDialog()
    ui = Ui_Dialog()
    ui.setupUi(Dialog,"")
    Dialog.show()
    sys.exit(app.exec_())